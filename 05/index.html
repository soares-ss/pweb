<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Atividade JavaScript</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #ffd6f8, #fff0fb);
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }

    .container {
      background-color: #fff;
      padding: 40px 50px;
      border-radius: 12px;
      box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
      width: 90%;
      max-width: 700px;
      text-align: center;
    }

    button {
      background-color: #ff9bd4;
      color: #fff;
      border: none;
      padding: 10px 18px;
      font-size: 1rem;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
      margin: 6px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.1);
    }

    button:hover {
      background-color: #ff6fbd;
      transform: scale(1.05);
      box-shadow: 0 5px 15px rgba(0,0,0,0.15);
    }

    #MinhaDiv {
      margin-top: 20px;
      background-color: #fff7fb;
      border: 1px solid #ffcae8;
      border-radius: 6px;
      padding: 15px;
      min-height: 60px;
      text-align: left;
    }

    h5 {
      margin: 5px 0;
      color: #555;
      font-weight: normal;
    }
  </style>
</head>
<body>
  <div class="container">
    <label>Nome do livro:</label>
    <input type="text" id="livro" placeholder="Digite o nome do livro">
    <br><br>
    <label>Nome do autor:</label>
    <input type="text" id="autor" placeholder="Digite o autor">
    <br><br>
    <label>Ano do livro:</label>
    <input type="text" id="ano" placeholder="Digite o ano">
    <br><br>
    <button onclick="adicionar()">Adicionar</button>
    <button onclick="remover()">Remover</button>
    <button onclick="posicao()">Consultar posição</button>
    <button onclick="inserirNaPosicao()">Inserir em posição</button>

    <div id="MinhaDiv"></div>
  </div>

  <script>
    let pilhaLivros = [];

    function limpaCampos() {
      document.getElementById('livro').value = '';
      document.getElementById('autor').value = '';
      document.getElementById('ano').value = '';
    }

    function adicionar() {
      const livro = document.getElementById('livro').value;
      const autor = document.getElementById('autor').value;
      const ano = document.getElementById('ano').value;

      if (livro === '' || autor === '' || ano === '') {
        alert('Por favor, preencha todos os campos.');
        return;
      }

      pilhaLivros.push({ livro, autor, ano });
      limpaCampos();
      mostrarLista();
    }

    function mostrarLista() {
      const container = document.getElementById('MinhaDiv');
      container.innerHTML = '';

      for (let i = 0; i < pilhaLivros.length; i++) {
        const item = pilhaLivros[i];
        container.innerHTML += '<h5><b>' + i + ':</b> ' + item.livro + ' - ' + item.autor + ' (' + item.ano + ')</h5>';
      }
    }

    function posicao() {
      const indice = Number(prompt('Qual posição da lista deseja consultar?'));

      if (indice < 0 || indice >= pilhaLivros.length) {
        alert('Posição inválida!');
        return;
      }

      const item = pilhaLivros[indice];
      alert('Na posição ' + indice + ' está: ' + item.livro + ' - ' + item.autor + ' (' + item.ano + ')');
    }

    function remover() {
      if (pilhaLivros.length === 0) {
        alert('A pilha está vazia!');
      } else {
        const removido = pilhaLivros.pop();
        alert('Removido: ' + removido.livro + ' - ' + removido.autor + ' (' + removido.ano + ')');
        mostrarLista();
      }
    }
    
    function inserirNaPosicao() {
      const posicao = Number(prompt('Digite a posição onde deseja inserir o livro:'));
      
      if (isNaN(posicao) || posicao < 0 || posicao > pilhaLivros.length) {
        alert('Posição inválida!');
        return;
      }

      const livro = prompt('Digite o nome do livro:');
      const autor = prompt('Digite o nome do autor:');
      const ano = prompt('Digite o ano do livro:');

      if (livro === '' || autor === '' || ano === '') {
        alert('Por favor, preencha todos os campos.');
        return;
      }

      let novaLista = [];

      for (let i = 0; i < pilhaLivros.length; i++) {
        if (i === posicao) {
          novaLista.push({ livro, autor, ano });
        }
        novaLista.push(pilhaLivros[i]);
      }

      if (posicao === pilhaLivros.length) {
        novaLista.push({ livro, autor, ano });
      }

      pilhaLivros = novaLista;
      alert('Livro inserido na posição ' + posicao + '.');
      mostrarLista();
    }
  </script>
</body>
</html>
